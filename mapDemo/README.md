# 高德地图绘制工具

这是一个基于高德地图API的地图绘制工具，可以在地图上绘制多边形、矩形和圆形，并获取图形的角点坐标。

## 功能特性

- 🗺️ 基于高德地图API的地图显示
- ✏️ 支持绘制多边形、矩形、圆形
- 📍 实时显示绘制点的坐标
- 📊 获取图形角点的经纬度坐标
- 🖱️ 点击获取坐标功能，支持批量获取多个坐标点
- 💾 导出绘制数据和点击坐标数据为JSON格式
- 🎨 现代化的用户界面设计
- 📱 响应式设计，支持移动端

## 使用方法

### 1. 获取高德地图API密钥

1. 访问 [高德开放平台](https://lbs.amap.com/)
2. 注册账号并创建应用
3. 获取JavaScript API的密钥（Key）

### 2. 配置API密钥

在 `config.js` 文件中，将 `YOUR_AMAP_KEY` 替换为您的实际API密钥：

```javascript
const MAP_CONFIG = {
    API_KEY: 'YOUR_AMAP_KEY',
    // ... 其他配置
};
```

或者在 `index.html` 文件中直接修改：

```html
<script type="text/javascript" src="https://webapi.amap.com/maps?v=2.0&key=YOUR_AMAP_KEY"></script>
```

### 3. 运行项目

直接在浏览器中打开 `index.html` 文件即可使用。

## 操作说明

### 绘制图形

1. **绘制多边形**：
   - 点击"绘制多边形"按钮
   - 在地图上依次点击多个点
   - 双击完成绘制

2. **绘制矩形**：
   - 点击"绘制矩形"按钮
   - 在地图上点击两个对角点
   - 自动完成绘制

3. **绘制圆形**：
   - 点击"绘制圆形"按钮
   - 点击圆心位置
   - 点击第二个点确定半径
   - 自动完成绘制

### 获取坐标

#### 绘制图形坐标
- 点击"获取绘制坐标"按钮查看所有绘制图形的角点坐标
- 坐标信息会显示在右侧面板中

#### 点击获取坐标
- 点击"点击获取坐标"按钮进入点击模式
- 在地图上点击任意位置获取该点的经纬度坐标
- 支持批量获取多个坐标点
- 点击"清除点击点"按钮清除所有点击的坐标点
- 点击"导出点击数据"按钮导出点击的坐标数据

### 导出数据

#### 绘制数据导出
- 点击"导出绘制数据"按钮将绘制数据导出为JSON文件
- 导出的数据包含图形类型、坐标点等信息

#### 点击坐标导出
- 点击"导出点击数据"按钮将点击获取的坐标数据导出为JSON文件
- 导出的数据包含所有点击点的经纬度坐标

### 清除图形

- 点击"清除所有"按钮删除所有绘制的图形

## 文件结构

```
mapDemo/
├── index.html          # 主页面
├── styles.css          # 样式文件
├── map-drawer.js       # 地图绘制逻辑
├── config.js           # 配置文件
├── example.html        # 使用示例
├── test.html           # 功能测试页面
└── README.md           # 说明文档
```

## 技术栈

- **地图API**: 高德地图 JavaScript API 2.0
- **前端**: HTML5, CSS3, JavaScript (ES6+)
- **样式**: 现代化CSS设计，支持响应式布局

## 坐标格式

导出的坐标数据格式如下：

```json
{
  "timestamp": "2024-01-01T12:00:00.000Z",
  "shapes": [
    {
      "type": "polygon",
      "points": [...],
      "coordinates": [
        [116.123456, 39.123456],
        [116.234567, 39.234567],
        ...
      ]
    }
  ]
}
```

## 注意事项

1. 需要有效的网络连接以加载高德地图
2. API密钥需要在高德开放平台进行域名白名单配置
3. 建议在HTTPS环境下使用以确保安全性
4. 圆形绘制使用32个点进行近似，可根据需要调整精度

## 浏览器兼容性

- Chrome 60+
- Firefox 55+
- Safari 12+
- Edge 79+

## 许可证

MIT License

## 更新日志

### v1.0.0
- 初始版本发布
- 支持多边形、矩形、圆形绘制
- 坐标获取和导出功能
- 现代化UI设计 